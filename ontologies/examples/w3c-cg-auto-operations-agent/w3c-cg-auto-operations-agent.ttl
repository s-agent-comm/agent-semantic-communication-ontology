@prefix : <https://ns.slashlife.ai/agent/examples/w3c-cg-auto-operations-agent#> .
@prefix core: <https://ns.slashlife.ai/agent/core#> .
@prefix agent: <https://ns.slashlife.ai/agent/agent#> .
@prefix delegation: <https://ns.slashlife.ai/agent/delegation#> .
@prefix security: <https://ns.slashlife.ai/agent/security-binding#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

# Agent Definition
:CgOperationsAgent a core:Agent ;
    rdfs:label "W3C CG Auto-Operations Agent" ;
    agent:hasProfile [
        a agent:AgentProfile ;
        agent:coreIdentity [
            a agent:AgentIdentity ;
            agent:did "did:example:w3c-cg-ops-agent" ;
            agent:title "W3C CG Auto-Operations Agent" ;
            agent:version "1.1.0"
        ] ;
        agent:purposeAndRole [
            a agent:PurposeRole ;
            agent:objective "To automate routine administrative tasks for a W3C Community Group, including monitoring GitHub, drafting agendas, and publishing minutes." ;
            agent:owner "did:example:w3c-cg-chairs"
        ] ;
        agent:capabilities [
            a agent:CapabilityBundle ;
            agent:skill "MonitorGitHubIssues", "DraftMeetingAgenda", "PublishMinutes"
        ] ;
        agent:operationalTriggersAndIO [
            a agent:OperationalProfile ;
            agent:trigger [
                a agent:Trigger ;
                rdfs:label "GitHub Webhook for new 'agenda-request' issues"
            ], [
                a agent:Trigger ;
                rdfs:label "Weekly Cron Job for agenda drafting (Tuesdays 10:00 UTC)"
            ] ;
            agent:input [
                a agent:InputSpec ;
                rdfs:label "GitHub issue JSON payload, Raw meeting minutes in Markdown"
            ] ;
            agent:output :AgendaDraft, :PublishedMinutes
        ] ;
        agent:systemIntegrationAndDependencies [
            a agent:SystemIntegration ;
            agent:dependsOn <https://api.github.com>, <https://api.w3.org/calendar>
        ]
    ] .

# Delegation from CG Chairs to the Agent
:CgChairDelegation a delegation:Delegation ;
    delegation:delegatedBy "did:example:w3c-cg-chairs" ;
    delegation:delegatesTo :CgOperationsAgent ;
    delegation:delegationScope "Monitor repository for 'agenda-request' issues, draft weekly meeting agendas, and publish approved minutes to the CG website." .

# Actions and Artifacts
:DraftAgendaAction a core:Action ;
    rdfs:label "Draft Weekly Meeting Agenda" ;
    core:contextOf :CgChairDelegation ;
    core:producesArtifact :AgendaDraft .

:AgendaDraft a core:Artifact ;
    rdfs:label "Agenda Draft for upcoming meeting" ;
    core:description "A Markdown file containing the compiled agenda items for the next meeting, committed as a pull request to the repository." .

:PublishMinutesAction a core:Action ;
    rdfs:label "Publish Meeting Minutes" ;
    core:contextOf :CgChairDelegation ;
    core:producesArtifact :PublishedMinutes ;
    security:securityBinding [
        a security:SecurityBinding ;
        security:cryptographicBinding "JWS" ;
        security:signedBy :CgOperationsAgent ;
        security:trustModel "Delegated Authority"
    ] .

:PublishedMinutes a core:Artifact ;
    rdfs:label "Published Meeting Minutes" ;
    core:description "The URL of the final, published HTML minutes on the W3C CG website." .
